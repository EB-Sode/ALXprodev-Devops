#!/bin/bash

# List of Pokémon
POKEMONS=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")

# Base URL
API_URL="https://pokeapi.co/api/v2/pokemon"

# Loop through each Pokémon
for name in "${POKEMONS[@]}"; do
  echo "Fetching data for $name..."

  # Make API request and save output
  curl -s -o "${name}.json" "${API_URL}/${name}"

  # Check if file contains valid JSON
  if jq -e . "${name}.json" >/dev/null 2>&1; then
    echo "✅ Saved ${name}.json"
  else
    echo "❌ Failed to retrieve data for $name" >> errors.txt
  fi

  # Delay between requests (2 seconds)
  sleep 2
done

echo "All Pokémon processed."
